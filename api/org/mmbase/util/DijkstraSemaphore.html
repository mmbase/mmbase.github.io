<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_422) on Mon Nov 24 22:20:55 CET 2025 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DijkstraSemaphore (MMBase 1.9-SNAPSHOT - API)</title>
<meta name="date" content="2025-11-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DijkstraSemaphore (MMBase 1.9-SNAPSHOT - API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DijkstraSemaphore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/mmbase/util/DateSupport.html" title="class in org.mmbase.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/mmbase/util/DirectoryLister.html" title="class in org.mmbase.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/mmbase/util/DijkstraSemaphore.html" target="_top">Frames</a></li>
<li><a href="DijkstraSemaphore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mmbase.util</div>
<h2 title="Class DijkstraSemaphore" class="title">Class DijkstraSemaphore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.mmbase.util.DijkstraSemaphore</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DijkstraSemaphore</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Also called counting semaphores, Dijkstra semaphores are used to control access to
 a set of resources. A Dijkstra semaphore has a count associated with it and each
 acquire() call reduces the count. A thread that tries to acquire() a Dijkstra
 semaphore with a zero count blocks until someone else calls release() thus increasing
 the count.
 <b>When to use</b>
 Recommended when applications require a counting semaphore. Implementing
 a counting semaphore using wait()/notify() and counters within your application
 code makes your code less readable and quickly increases the complexity
 (especially when you have the need for multiple counting semaphores). Can also
 be used to port code from POSIX environment.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>MMBase-1.6</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Karthik Rangaraju, Michiel Meeuwissen</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#DijkstraSemaphore-int-">DijkstraSemaphore</a></span>(int&nbsp;pMaxCount)</code>
<div class="block">Creates a Dijkstra semaphore with the specified max count and initial count set
 to the max count (all resources released)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#DijkstraSemaphore-int-int-">DijkstraSemaphore</a></span>(int&nbsp;pMaxCount,
                 int&nbsp;pInitialCount)</code>
<div class="block">Creates a Dijkstra semaphore with the specified max count and an initial count
 of acquire() operations that are assumed to have already been performed.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#acquire--">acquire</a></span>()</code>
<div class="block">If the count is non-zero, acquires a semaphore and decrements the count by 1,
 otherwise blocks until a release() is executed by some other thread.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#acquireAll--">acquireAll</a></span>()</code>
<div class="block">Tries to acquire all the semaphores thus bringing the count to zero.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#release--">release</a></span>()</code>
<div class="block">Releases a previously acquires semaphore and increments the count by one.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#release-int-">release</a></span>(int&nbsp;pCount)</code>
<div class="block">Same as release() except that the count is increased by pCount instead of 1.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#releaseAll--">releaseAll</a></span>()</code>
<div class="block">Releases all semaphores setting the count to max count.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#starvationCheck--">starvationCheck</a></span>()</code>
<div class="block">This method blocks the calling thread until the count drops to zero.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/mmbase/util/DijkstraSemaphore.html#tryAcquire--">tryAcquire</a></span>()</code>
<div class="block">Non-blocking version of acquire().</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DijkstraSemaphore-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DijkstraSemaphore</h4>
<pre>public&nbsp;DijkstraSemaphore(int&nbsp;pMaxCount)</pre>
<div class="block">Creates a Dijkstra semaphore with the specified max count and initial count set
 to the max count (all resources released)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pMaxCount</code> - is the max semaphores that can be acquired</dd>
</dl>
</li>
</ul>
<a name="DijkstraSemaphore-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DijkstraSemaphore</h4>
<pre>public&nbsp;DijkstraSemaphore(int&nbsp;pMaxCount,
                         int&nbsp;pInitialCount)</pre>
<div class="block">Creates a Dijkstra semaphore with the specified max count and an initial count
 of acquire() operations that are assumed to have already been performed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pMaxCount</code> - is the max semaphores that can be acquired</dd>
<dd><code>pInitialCount</code> - is the current count (setting it to zero means all semaphores
 have already been acquired). 0 <= pInitialCount <= pMaxCount</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="acquire--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>public&nbsp;void&nbsp;acquire()
             throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">If the count is non-zero, acquires a semaphore and decrements the count by 1,
 otherwise blocks until a release() is executed by some other thread.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the thread is interrupted when blocked</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/mmbase/util/DijkstraSemaphore.html#tryAcquire--"><code>tryAcquire()</code></a>, 
<a href="../../../org/mmbase/util/DijkstraSemaphore.html#acquireAll--"><code>acquireAll()</code></a></dd>
</dl>
</li>
</ul>
<a name="tryAcquire--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryAcquire</h4>
<pre>public&nbsp;boolean&nbsp;tryAcquire()</pre>
<div class="block">Non-blocking version of acquire().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if semaphore was acquired (count is decremented by 1), false
 otherwise</dd>
</dl>
</li>
</ul>
<a name="release--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;release()</pre>
<div class="block">Releases a previously acquires semaphore and increments the count by one. Does not
 check if the thread releasing the semaphore was a thread that acquired the
 semaphore previously. If more releases are performed than acquires, the count is
 not increased beyond the max count specified during construction.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/mmbase/util/DijkstraSemaphore.html#release-int-"><code>release(int pCount)</code></a>, 
<a href="../../../org/mmbase/util/DijkstraSemaphore.html#releaseAll--"><code>releaseAll()</code></a></dd>
</dl>
</li>
</ul>
<a name="release-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;release(int&nbsp;pCount)</pre>
<div class="block">Same as release() except that the count is increased by pCount instead of 1. The
 resulting count is capped at max count specified in the constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pCount</code> - is the amount by which the counter should be incremented</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/mmbase/util/DijkstraSemaphore.html#release--"><code>release()</code></a></dd>
</dl>
</li>
</ul>
<a name="acquireAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireAll</h4>
<pre>public&nbsp;void&nbsp;acquireAll()
                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Tries to acquire all the semaphores thus bringing the count to zero.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the thread is interrupted when blocked on this call</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/mmbase/util/DijkstraSemaphore.html#acquire--"><code>acquire()</code></a>, 
<a href="../../../org/mmbase/util/DijkstraSemaphore.html#releaseAll--"><code>releaseAll()</code></a></dd>
</dl>
</li>
</ul>
<a name="releaseAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseAll</h4>
<pre>public&nbsp;void&nbsp;releaseAll()</pre>
<div class="block">Releases all semaphores setting the count to max count.
 Warning: If this method is called by a thread that did not make a corresponding
 acquireAll() call, then you better know what you are doing!</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/mmbase/util/DijkstraSemaphore.html#acquireAll--"><code>acquireAll()</code></a></dd>
</dl>
</li>
</ul>
<a name="starvationCheck--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>starvationCheck</h4>
<pre>public&nbsp;void&nbsp;starvationCheck()
                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">This method blocks the calling thread until the count drops to zero.
 The method is not stateful and hence a drop to zero will not be recognized
 if a release happens before this call. You can use this method to implement
 threads that dynamically increase the resource pool or that log occurences
 of resource starvation. Also called a reverse-sensing semaphore</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the thread is interrupted while waiting</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DijkstraSemaphore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/mmbase/util/DateSupport.html" title="class in org.mmbase.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/mmbase/util/DirectoryLister.html" title="class in org.mmbase.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/mmbase/util/DijkstraSemaphore.html" target="_top">Frames</a></li>
<li><a href="DijkstraSemaphore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>MMBase 1.9-SNAPSHOT - ${javadoctimestamp}</small></p>
</body>
</html>
